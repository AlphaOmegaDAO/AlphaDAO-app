{"ast":null,"code":"var _jsxFileName = \"C:\\\\arete\\\\AlphaDAO-react\\\\src\\\\components\\\\TopBar\\\\ConnectMenu.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Box, Button, SvgIcon, Typography, Popper, Paper, Divider, Link, Slide, Fade } from \"@material-ui/core\";\nimport { ReactComponent as ArrowUpIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/arrow-up.svg\";\nimport { ReactComponent as CaretDownIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/caret-down.svg\";\nimport { ReactComponent as WalletIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/wallet.svg\";\nimport { ReactComponent as GreenEllipsisIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/greenEllipse.svg\";\nimport { useAddress, useWeb3Context } from \"src/hooks/web3Context\";\nimport { shorten } from \"../../helpers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ConnectMenu({\n  theme\n}) {\n  _s();\n\n  const {\n    connect,\n    disconnect,\n    connected,\n    web3,\n    chainID\n  } = useWeb3Context();\n  const address = useAddress();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [isConnected, setConnected] = useState(connected);\n  const [isHovering, setIsHovering] = useState(false);\n  const pendingTransactions = useSelector(state => {\n    return state.pendingTransactions;\n  });\n  let buttonText = \"\";\n  let clickFunc = connect;\n  const open = Boolean(anchorEl);\n\n  const handleClick = event => {\n    if (anchorEl !== event.currentTarget) {\n      setAnchorEl(event.currentTarget);\n    }\n  };\n\n  function handleClose() {\n    setAnchorEl(null);\n  }\n\n  if (isConnected) {\n    buttonText = shorten(address);\n    clickFunc = disconnect;\n  }\n\n  if (pendingTransactions && pendingTransactions.length > 0) {\n    buttonText = \"In progress\";\n    clickFunc = handleClick;\n  }\n\n  const id = open ? \"ohm-popper-pending\" : undefined;\n  const primaryColor = theme === \"light\" ? \"#49A1F2\" : \"#F8CC82\";\n  const buttonStyles = \"pending-txn-container\" + (isHovering && pendingTransactions.length > 0 ? \" hovered-button\" : \"\"); // const getEtherscanUrl = txnHash => {\n  //   return chainID === 4 ? \"https://rinkeby.etherscan.io/tx/\" + txnHash : \"https://etherscan.io/tx/\" + txnHash;\n  // };\n  // useEffect(() => {\n  //   if (pendingTransactions.length === 0) {\n  //     setAnchorEl(null);\n  //   }\n  // }, [pendingTransactions]);\n\n  useEffect(() => {\n    setConnected(connected);\n  }, [web3, connected]);\n  return /*#__PURE__*/_jsxDEV(Box // onMouseEnter={e => (pendingTransactions && pendingTransactions.length > 0 ? handleClick(e) : null)}\n  // onMouseLeave={e => (pendingTransactions && pendingTransactions.length > 0 ? handleClick(e) : null)}\n  , {\n    className: \"wallet-menu\",\n    id: \"wallet-menu\",\n    children: [connected ? /*#__PURE__*/_jsxDEV(Button, {\n      id: \"wallet-menu-button\",\n      className: buttonStyles,\n      variant: \"contained\",\n      color: \"secondary\",\n      size: \"large\",\n      style: pendingTransactions.length > 0 ? {\n        color: primaryColor\n      } : {},\n      onClick: handleClick,\n      onMouseOver: handleClick,\n      children: [/*#__PURE__*/_jsxDEV(SvgIcon, {\n        className: \"green-ellipse-icon\",\n        viewBox: \"0 0 8 8\",\n        component: GreenEllipsisIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), buttonText]\n    }, 1, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Button // className={buttonStyles}\n    , {\n      variant: \"contained\",\n      color: \"secondary\",\n      fullWidth: true // size=\"large\"\n      ,\n      style: pendingTransactions.length > 0 ? {\n        color: primaryColor\n      } : {\n        padding: \"9px\",\n        marginLeft: \"9px\"\n      },\n      onClick: clickFunc,\n      children: /*#__PURE__*/_jsxDEV(SvgIcon, {\n        color: \"primary\",\n        viewBox: \"0 0 24 19\",\n        component: WalletIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)\n    }, 1, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Popper, {\n      id: id,\n      open: open,\n      onClose: handleClose,\n      anchorEl: anchorEl,\n      placement: \"button\",\n      transition: true,\n      children: ({\n        TransitionProps\n      }) => {\n        return /*#__PURE__*/_jsxDEV(Fade, { ...TransitionProps,\n          timeout: 100,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            size: \"large\",\n            variant: \"contained\",\n            color: \"secondary\",\n            onMouseLeave: handleClose,\n            onClick: disconnect,\n            style: {\n              marginBottom: \"0px\",\n              width: `${anchorEl && anchorEl.offsetWidth}px`\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              className: \"logout-button\",\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ConnectMenu, \"lynMvLry88p+tRLRx4kDkg16h+4=\", false, function () {\n  return [useWeb3Context, useAddress, useSelector];\n});\n\n_c = ConnectMenu;\nexport default ConnectMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"ConnectMenu\");","map":{"version":3,"sources":["C:/arete/AlphaDAO-react/src/components/TopBar/ConnectMenu.jsx"],"names":["useEffect","useState","useSelector","Box","Button","SvgIcon","Typography","Popper","Paper","Divider","Link","Slide","Fade","useAddress","useWeb3Context","shorten","ConnectMenu","theme","connect","disconnect","connected","web3","chainID","address","anchorEl","setAnchorEl","isConnected","setConnected","isHovering","setIsHovering","pendingTransactions","state","buttonText","clickFunc","open","Boolean","handleClick","event","currentTarget","handleClose","length","id","undefined","primaryColor","buttonStyles","color","GreenEllipsisIcon","padding","marginLeft","WalletIcon","TransitionProps","marginBottom","width","offsetWidth"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Box, Button, SvgIcon, Typography, Popper, Paper, Divider, Link, Slide, Fade } from \"@material-ui/core\";\nimport { ReactComponent as ArrowUpIcon } from \"../../assets/icons/arrow-up.svg\";\nimport { ReactComponent as CaretDownIcon } from \"../../assets/icons/caret-down.svg\";\nimport { ReactComponent as WalletIcon } from \"../../assets/icons/wallet.svg\";\nimport { ReactComponent as GreenEllipsisIcon } from \"../../assets/icons/greenEllipse.svg\";\nimport { useAddress, useWeb3Context } from \"src/hooks/web3Context\";\nimport { shorten } from \"../../helpers\";\n\nfunction ConnectMenu({ theme }) {\n  const { connect, disconnect, connected, web3, chainID } = useWeb3Context();\n  const address = useAddress();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [isConnected, setConnected] = useState(connected);\n  const [isHovering, setIsHovering] = useState(false);\n\n  const pendingTransactions = useSelector(state => {\n    return state.pendingTransactions;\n  });\n\n  let buttonText = \"\";\n  let clickFunc = connect;\n\n  const open = Boolean(anchorEl);\n\n  const handleClick = event => {\n    if (anchorEl !== event.currentTarget) {\n      setAnchorEl(event.currentTarget);\n    }\n  };\n\n  function handleClose() {\n    setAnchorEl(null);\n  }\n\n  if (isConnected) {\n    buttonText = shorten(address);\n    clickFunc = disconnect;\n  }\n\n  if (pendingTransactions && pendingTransactions.length > 0) {\n    buttonText = \"In progress\";\n    clickFunc = handleClick;\n  }\n  const id = open ? \"ohm-popper-pending\" : undefined;\n\n  const primaryColor = theme === \"light\" ? \"#49A1F2\" : \"#F8CC82\";\n  const buttonStyles =\n    \"pending-txn-container\" + (isHovering && pendingTransactions.length > 0 ? \" hovered-button\" : \"\");\n\n  // const getEtherscanUrl = txnHash => {\n  //   return chainID === 4 ? \"https://rinkeby.etherscan.io/tx/\" + txnHash : \"https://etherscan.io/tx/\" + txnHash;\n  // };\n\n  // useEffect(() => {\n  //   if (pendingTransactions.length === 0) {\n  //     setAnchorEl(null);\n  //   }\n  // }, [pendingTransactions]);\n\n  useEffect(() => {\n    setConnected(connected);\n  }, [web3, connected]);\n\n  return (\n    <Box\n      // onMouseEnter={e => (pendingTransactions && pendingTransactions.length > 0 ? handleClick(e) : null)}\n      // onMouseLeave={e => (pendingTransactions && pendingTransactions.length > 0 ? handleClick(e) : null)}\n      className=\"wallet-menu\"\n      id=\"wallet-menu\"\n    >\n      {connected ? (\n        <Button\n          id=\"wallet-menu-button\"\n          className={buttonStyles}\n          variant=\"contained\"\n          color=\"secondary\"\n          size=\"large\"\n          style={pendingTransactions.length > 0 ? { color: primaryColor } : {}}\n          onClick={handleClick}\n          onMouseOver={handleClick}\n          key={1}\n        >\n          <SvgIcon className=\"green-ellipse-icon\" viewBox=\"0 0 8 8\" component={GreenEllipsisIcon} />\n          {buttonText}\n          {/*{pendingTransactions.length > 0 && (*/}\n          {/*  <Slide direction=\"left\" in={isHovering} {...{ timeout: 333 }}>*/}\n          {/*    <SvgIcon className=\"caret-down\" component={CaretDownIcon} htmlColor={primaryColor} />*/}\n          {/*  </Slide>*/}\n          {/*)}*/}\n        </Button>\n      ) : (\n        <Button\n          // className={buttonStyles}\n          variant=\"contained\"\n          color=\"secondary\"\n          fullWidth\n          // size=\"large\"\n          style={pendingTransactions.length > 0 ? { color: primaryColor } : { padding: \"9px\", marginLeft: \"9px\" }}\n          onClick={clickFunc}\n          key={1}\n        >\n          <SvgIcon color=\"primary\" viewBox=\"0 0 24 19\" component={WalletIcon} />\n        </Button>\n      )}\n\n      <Popper id={id} open={open} onClose={handleClose} anchorEl={anchorEl} placement=\"button\" transition>\n        {({ TransitionProps }) => {\n          return (\n            <Fade {...TransitionProps} timeout={100}>\n              {/*<Paper className=\"ohm-menu\" elevation={1}>*/}\n              {/*{pendingTransactions.map((x, i) => (*/}\n              {/*  <Box key={i} fullWidth>*/}\n              {/*    <Link key={x.txnHash} href={getEtherscanUrl(x.txnHash)} target=\"_blank\" rel=\"noreferrer\">*/}\n              {/*      <Button size=\"large\" variant=\"contained\" color=\"secondary\" fullWidth>*/}\n              {/*        <Typography align=\"left\">*/}\n              {/*          {x.text} <SvgIcon component={ArrowUpIcon} />*/}\n              {/*        </Typography>*/}\n              {/*      </Button>*/}\n              {/*    </Link>*/}\n              {/*  </Box>*/}\n              {/*))}*/}\n              {/*<Box className=\"add-tokens\">*/}\n              {/*<Divider color=\"secondary\" />*/}\n              <Button\n                size=\"large\"\n                variant=\"contained\"\n                color=\"secondary\"\n                onMouseLeave={handleClose}\n                onClick={disconnect}\n                style={{ marginBottom: \"0px\", width: `${anchorEl && anchorEl.offsetWidth}px` }}\n              >\n                <Typography className=\"logout-button\">Logout</Typography>\n              </Button>\n              {/*</Box>*/}\n              {/*</Paper>*/}\n            </Fade>\n          );\n        }}\n      </Popper>\n    </Box>\n  );\n}\n\nexport default ConnectMenu;\n"]},"metadata":{},"sourceType":"module"}