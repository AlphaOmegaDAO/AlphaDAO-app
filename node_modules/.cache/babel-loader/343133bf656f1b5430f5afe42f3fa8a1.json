{"ast":null,"code":"var _jsxFileName = \"C:\\\\arete\\\\AlphaDAO-react\\\\src\\\\views\\\\Bond\\\\Bond.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { formatCurrency, trim } from \"../../helpers\";\nimport { Backdrop, Box, Fade, Grid, Paper, Tab, Tabs, Typography, makeStyles, Button, SvgIcon, Link } from \"@material-ui/core\";\nimport TabPanel from \"../../components/TabPanel\";\nimport BondHeader from \"./BondHeader\";\nimport BondRedeem from \"./BondRedeem\";\nimport BondPurchase from \"./BondPurchase\";\nimport \"./bond.scss\";\nimport { useWeb3Context } from \"src/hooks/web3Context\";\nimport { Skeleton } from \"@material-ui/lab\"; // import { isPendingTxn, txnButtonText } from \"../../slices/PendingTxnsSlice\";\n\nimport { ReactComponent as LinkIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/link.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`\n  };\n}\n\nconst useStyles = makeStyles({\n  customStyleOnTab: {\n    width: \"145px\"\n  }\n});\n\nfunction Bond({\n  bond,\n  nft\n}) {\n  _s();\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const {\n    provider,\n    address,\n    chainID\n  } = useWeb3Context();\n  const [slippage, setSlippage] = useState(0.5);\n  const [recipientAddress, setRecipientAddress] = useState(address);\n  const [view, setView] = useState(0);\n  const [quantity, setQuantity] = useState();\n  const isBondLoading = useSelector(state => {\n    var _state$bonding$loadin;\n\n    return (_state$bonding$loadin = state.bonding.loading) !== null && _state$bonding$loadin !== void 0 ? _state$bonding$loadin : true;\n  });\n\n  const onRecipientAddressChange = e => {\n    return setRecipientAddress(e.target.value);\n  };\n\n  const onSlippageChange = e => {\n    return setSlippage(e.target.value);\n  };\n\n  useEffect(() => {\n    if (address) setRecipientAddress(address);\n  }, [provider, quantity, address]);\n\n  const changeView = (event, newView) => {\n    setView(newView);\n  };\n\n  if (nft) {\n    return /*#__PURE__*/_jsxDEV(Fade, {\n      in: true,\n      mountOnEnter: true,\n      unmountOnExit: true,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        id: \"bond-view\",\n        children: /*#__PURE__*/_jsxDEV(Backdrop, {\n          open: true,\n          children: /*#__PURE__*/_jsxDEV(Fade, {\n            in: true,\n            children: /*#__PURE__*/_jsxDEV(Paper, {\n              className: \"ohm-card ohm-modal\",\n              children: [/*#__PURE__*/_jsxDEV(BondHeader, {\n                bond: bond,\n                nft: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                direction: \"column\",\n                className: \"bond-price-data-column\",\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  color: \"textSecondary\",\n                  children: \"Bond with real world assets\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h5\",\n                  color: \"textPrimary\",\n                  children: \"Gold, Fine Wine, Real Estate and Art\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n                centered: true,\n                value: view,\n                textColor: \"primary\",\n                indicatorColor: \"primary\",\n                onChange: changeView,\n                \"aria-label\": \"bond tabs\",\n                children: /*#__PURE__*/_jsxDEV(Tab, {\n                  label: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: classes.customStyleOnTab,\n                    children: \"BOND\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 31\n                  }, this),\n                  ...a11yProps(0)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n                value: view,\n                index: 0,\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  className: \"wallet-menu bond-nft-box\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    color: \"primary\",\n                    id: \"bond-coming-soon-btn\",\n                    className: \"nft-coming-soon-button nft-coming-soon-button-text \",\n                    disabled: true,\n                    onClick: () => {},\n                    children: \"COMING SOON\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    className: \"bond-nft-description\",\n                    children: \"OX is the first algorithmic currency backed by real world assets. Enabled by our partnership with Tangible, the AlphaDAO treasury is filled with gold, fine wine and other tangible assets.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    href: \"https://medium.com/tangible/introducing-tangible-5f3947276125\",\n                    target: \"_blank\",\n                    variant: \"contained\",\n                    color: \"primary\",\n                    id: \"bond-approve-btn\",\n                    className: \"transaction-button nft-coming-soon-button\",\n                    disabled: false,\n                    endIcon: /*#__PURE__*/_jsxDEV(SvgIcon, {\n                      component: LinkIcon,\n                      className: \"nft-learn-more-button\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 122,\n                      columnNumber: 32\n                    }, this),\n                    children: \"Learn More\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Fade, {\n    in: true,\n    mountOnEnter: true,\n    unmountOnExit: true,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      id: \"bond-view\",\n      children: /*#__PURE__*/_jsxDEV(Backdrop, {\n        open: true,\n        children: /*#__PURE__*/_jsxDEV(Fade, {\n          in: true,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            className: \"ohm-card ohm-modal\",\n            children: [/*#__PURE__*/_jsxDEV(BondHeader, {\n              bond: bond,\n              slippage: slippage,\n              recipientAddress: recipientAddress,\n              onSlippageChange: onSlippageChange,\n              onRecipientAddressChange: onRecipientAddressChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              direction: \"row\",\n              className: \"bond-price-data-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bond-price-data\",\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h5\",\n                  color: \"textSecondary\",\n                  children: \"Bond Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h3\",\n                  className: \"price\",\n                  color: \"primary\",\n                  children: isBondLoading ? /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 38\n                  }, this) : formatCurrency(bond.bondPrice, 2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bond-price-data\",\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h5\",\n                  color: \"textSecondary\",\n                  children: \"Market Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h3\",\n                  color: \"primary\",\n                  className: \"price\",\n                  children: isBondLoading ? /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 38\n                  }, this) : formatCurrency(bond.marketPrice, 2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n              centered: true,\n              value: view,\n              textColor: \"primary\",\n              indicatorColor: \"primary\",\n              onChange: changeView,\n              \"aria-label\": \"bond tabs\",\n              children: [/*#__PURE__*/_jsxDEV(Tab, {\n                label: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: classes.customStyleOnTab,\n                  children: \"BOND\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 29\n                }, this),\n                ...a11yProps(0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tab, {\n                label: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: classes.customStyleOnTab,\n                  children: \"REDEEM\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 29\n                }, this),\n                ...a11yProps(1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n              value: view,\n              index: 0,\n              children: /*#__PURE__*/_jsxDEV(BondPurchase, {\n                bond: bond,\n                slippage: slippage,\n                recipientAddress: recipientAddress\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n              value: view,\n              index: 1,\n              children: /*#__PURE__*/_jsxDEV(BondRedeem, {\n                bond: bond\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n} // export function DisplayBondPrice({ bond }) {\n//   const { chainID } = useWeb3Context();\n//   return (\n//     <>\n//       {!bond.isAvailable[chainID] ? (\n//         <>--</>\n//       ) : (\n//         `${new Intl.NumberFormat(\"en-US\", {\n//           style: \"currency\",\n//           currency: \"USD\",\n//           maximumFractionDigits: 2,\n//           minimumFractionDigits: 2,\n//         }).format(bond.bondPrice)}`\n//       )}\n//     </>\n//   );\n// }\n\n\n_s(Bond, \"wUfRrPqvdxmyppGPxY5OG7b1Tsc=\", false, function () {\n  return [useStyles, useDispatch, useWeb3Context, useSelector];\n});\n\n_c = Bond;\nexport function DisplayBondDiscount({\n  bond\n}) {\n  _s2();\n\n  const {\n    chainID\n  } = useWeb3Context();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !bond.isAvailable[chainID] ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"--\"\n    }, void 0, false) : `${bond.bondDiscount && trim(bond.bondDiscount * 100, 2)}%`\n  }, void 0, false);\n}\n\n_s2(DisplayBondDiscount, \"MByQf+JZKqHkZoGpVBzX8L/vd4M=\", false, function () {\n  return [useWeb3Context];\n});\n\n_c2 = DisplayBondDiscount;\nexport default Bond;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Bond\");\n$RefreshReg$(_c2, \"DisplayBondDiscount\");","map":{"version":3,"sources":["C:/arete/AlphaDAO-react/src/views/Bond/Bond.jsx"],"names":["useEffect","useState","useDispatch","useSelector","formatCurrency","trim","Backdrop","Box","Fade","Grid","Paper","Tab","Tabs","Typography","makeStyles","Button","SvgIcon","Link","TabPanel","BondHeader","BondRedeem","BondPurchase","useWeb3Context","Skeleton","a11yProps","index","id","useStyles","customStyleOnTab","width","Bond","bond","nft","classes","dispatch","provider","address","chainID","slippage","setSlippage","recipientAddress","setRecipientAddress","view","setView","quantity","setQuantity","isBondLoading","state","bonding","loading","onRecipientAddressChange","e","target","value","onSlippageChange","changeView","event","newView","LinkIcon","bondPrice","marketPrice","DisplayBondDiscount","isAvailable","bondDiscount"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { formatCurrency, trim } from \"../../helpers\";\nimport {\n  Backdrop,\n  Box,\n  Fade,\n  Grid,\n  Paper,\n  Tab,\n  Tabs,\n  Typography,\n  makeStyles,\n  Button,\n  SvgIcon,\n  Link,\n} from \"@material-ui/core\";\nimport TabPanel from \"../../components/TabPanel\";\nimport BondHeader from \"./BondHeader\";\nimport BondRedeem from \"./BondRedeem\";\nimport BondPurchase from \"./BondPurchase\";\nimport \"./bond.scss\";\nimport { useWeb3Context } from \"src/hooks/web3Context\";\nimport { Skeleton } from \"@material-ui/lab\";\n// import { isPendingTxn, txnButtonText } from \"../../slices/PendingTxnsSlice\";\nimport { ReactComponent as LinkIcon } from \"../../assets/icons/link.svg\";\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles({\n  customStyleOnTab: {\n    width: \"145px\",\n  },\n});\n\nfunction Bond({ bond, nft }) {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const { provider, address, chainID } = useWeb3Context();\n\n  const [slippage, setSlippage] = useState(0.5);\n  const [recipientAddress, setRecipientAddress] = useState(address);\n\n  const [view, setView] = useState(0);\n  const [quantity, setQuantity] = useState();\n\n  const isBondLoading = useSelector(state => state.bonding.loading ?? true);\n\n  const onRecipientAddressChange = e => {\n    return setRecipientAddress(e.target.value);\n  };\n\n  const onSlippageChange = e => {\n    return setSlippage(e.target.value);\n  };\n\n  useEffect(() => {\n    if (address) setRecipientAddress(address);\n  }, [provider, quantity, address]);\n\n  const changeView = (event, newView) => {\n    setView(newView);\n  };\n\n  if (nft) {\n    return (\n      <Fade in={true} mountOnEnter unmountOnExit>\n        <Grid container id=\"bond-view\">\n          <Backdrop open={true}>\n            <Fade in={true}>\n              <Paper className=\"ohm-card ohm-modal\">\n                <BondHeader bond={bond} nft />\n                <Box direction=\"column\" className=\"bond-price-data-column\">\n                  <Typography variant=\"h6\" color=\"textSecondary\">\n                    Bond with real world assets\n                  </Typography>\n                  <Typography variant=\"h5\" color=\"textPrimary\">\n                    Gold, Fine Wine, Real Estate and Art\n                  </Typography>\n                </Box>\n\n                <Tabs\n                  centered\n                  value={view}\n                  textColor=\"primary\"\n                  indicatorColor=\"primary\"\n                  onChange={changeView}\n                  aria-label=\"bond tabs\"\n                >\n                  <Tab label={<span className={classes.customStyleOnTab}>BOND</span>} {...a11yProps(0)} />\n                </Tabs>\n\n                <TabPanel value={view} index={0}>\n                  <Box className=\"wallet-menu bond-nft-box\">\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      id=\"bond-coming-soon-btn\"\n                      className=\"nft-coming-soon-button nft-coming-soon-button-text \"\n                      disabled={true}\n                      onClick={() => {}}\n                    >\n                      COMING SOON\n                    </Button>\n                    <Typography className=\"bond-nft-description\">\n                      OX is the first algorithmic currency backed by real world assets. Enabled by our partnership\n                      with Tangible, the AlphaDAO treasury is filled with gold, fine wine and other tangible assets.\n                    </Typography>\n                    <Button\n                      href=\"https://medium.com/tangible/introducing-tangible-5f3947276125\"\n                      target=\"_blank\"\n                      variant=\"contained\"\n                      color=\"primary\"\n                      id=\"bond-approve-btn\"\n                      className=\"transaction-button nft-coming-soon-button\"\n                      disabled={false}\n                      endIcon={<SvgIcon component={LinkIcon} className=\"nft-learn-more-button\" />}\n                    >\n                      Learn More\n                    </Button>\n                  </Box>\n                </TabPanel>\n              </Paper>\n            </Fade>\n          </Backdrop>\n        </Grid>\n      </Fade>\n    );\n  }\n\n  return (\n    <Fade in={true} mountOnEnter unmountOnExit>\n      <Grid container id=\"bond-view\">\n        <Backdrop open={true}>\n          <Fade in={true}>\n            <Paper className=\"ohm-card ohm-modal\">\n              <BondHeader\n                bond={bond}\n                slippage={slippage}\n                recipientAddress={recipientAddress}\n                onSlippageChange={onSlippageChange}\n                onRecipientAddressChange={onRecipientAddressChange}\n              />\n\n              <Box direction=\"row\" className=\"bond-price-data-row\">\n                <div className=\"bond-price-data\">\n                  <Typography variant=\"h5\" color=\"textSecondary\">\n                    Bond Price\n                  </Typography>\n                  <Typography variant=\"h3\" className=\"price\" color=\"primary\">\n                    {isBondLoading ? <Skeleton /> : formatCurrency(bond.bondPrice, 2)}\n                  </Typography>\n                </div>\n                <div className=\"bond-price-data\">\n                  <Typography variant=\"h5\" color=\"textSecondary\">\n                    Market Price\n                  </Typography>\n                  <Typography variant=\"h3\" color=\"primary\" className=\"price\">\n                    {isBondLoading ? <Skeleton /> : formatCurrency(bond.marketPrice, 2)}\n                  </Typography>\n                </div>\n              </Box>\n\n              <Tabs\n                centered\n                value={view}\n                textColor=\"primary\"\n                indicatorColor=\"primary\"\n                onChange={changeView}\n                aria-label=\"bond tabs\"\n              >\n                <Tab label={<span className={classes.customStyleOnTab}>BOND</span>} {...a11yProps(0)} />\n                <Tab label={<span className={classes.customStyleOnTab}>REDEEM</span>} {...a11yProps(1)} />\n              </Tabs>\n\n              <TabPanel value={view} index={0}>\n                <BondPurchase bond={bond} slippage={slippage} recipientAddress={recipientAddress} />\n              </TabPanel>\n\n              <TabPanel value={view} index={1}>\n                <BondRedeem bond={bond} />\n              </TabPanel>\n            </Paper>\n          </Fade>\n        </Backdrop>\n      </Grid>\n    </Fade>\n  );\n}\n\n// export function DisplayBondPrice({ bond }) {\n//   const { chainID } = useWeb3Context();\n//   return (\n//     <>\n//       {!bond.isAvailable[chainID] ? (\n//         <>--</>\n//       ) : (\n//         `${new Intl.NumberFormat(\"en-US\", {\n//           style: \"currency\",\n//           currency: \"USD\",\n//           maximumFractionDigits: 2,\n//           minimumFractionDigits: 2,\n//         }).format(bond.bondPrice)}`\n//       )}\n//     </>\n//   );\n// }\n\nexport function DisplayBondDiscount({ bond }) {\n  const { chainID } = useWeb3Context();\n  return <>{!bond.isAvailable[chainID] ? <>--</> : `${bond.bondDiscount && trim(bond.bondDiscount * 100, 2)}%`}</>;\n}\n\nexport default Bond;\n"]},"metadata":{},"sourceType":"module"}